import dedent from 'dedent';
import { html } from 'lit-html';
import { unsafeHTML } from 'lit-html/directives/unsafe-html';
import {
  Subtitle,
  ArgsTable,
  Story,
  Canvas,
  Meta,
} from '@web/storybook-prebuilt/addon-docs/blocks.js';
import './index.ts';

<Meta
  title="Cards / AttributeCard"
  argTypes={{
    hiddencontrols: {
      control: {
        type: 'check',
        options: ['name', 'value'],
      },
    },
    lang: {
      control: {
        type: 'select',
        options: ['en', 'es'],
      },
    },
  }}
/>

# AttributeCard

<Subtitle>Basic card displaying an attribute</Subtitle>

<Canvas
  mdxSource={dedent`
    <foxy-attribute-card
      parent="https://demo.foxycart.com/s/admin/customers/0/attributes"
      href="https://demo.foxycart.com/s/admin/customer_attributes/0"
    >
    </foxy-attribute-card>
  `}
  isExpanded
>
  <Story
    name="Playground"
    args={{
      hiddencontrols: [],
      lang: 'en',
      href: 'https://demo.foxycart.com/s/admin/customer_attributes/0',
      parent: 'https://demo.foxycart.com/s/admin/customers/0/attributes',
      'name:before': '',
      'name:after': '',
      'value:before': '',
      'value:after': '',
    }}
  >
    {args =>
      html`
        <foxy-attribute-card
          hiddencontrols=${args.hiddencontrols.join(' ')}
          parent=${args.parent}
          class="box-content w-64 p-4 rounded-lg border"
          href=${args.href}
          lang=${args.lang}
        >
          <div slot="name:before">${unsafeHTML(args['name:before'])}</div>
          <div slot="name:after">${unsafeHTML(args['name:after'])}</div>
          <div slot="value:before">${unsafeHTML(args['value:before'])}</div>
          <div slot="value:after">${unsafeHTML(args['value:after'])}</div>
        </foxy-attribute-card>
      `
    }
  </Story>
</Canvas>

## Reference

<ArgsTable of="foxy-attribute-card" />

### hAPI

This element supports the following resources: [attribute](https://api.foxycart.com/rels/attribute).

### i18next

This element supports the following namespaces: `attribute-card`, `shared`.

### Theming

Our elements are built with Vaadin Lumo theme and therefore share the list of CSS Custom Properties with it. You can find the latest documentation and theme editor on [demo.vaadin.com](https://demo.vaadin.com/lumo-editor/).

<Story name="State: idle.snapshot" parameters={{ docs: { disable: true } }}>
  {() =>
    html`
      <foxy-attribute-card
        parent="https://demo.foxycart.com/s/admin/customers/0/attributes"
        href="https://demo.foxycart.com/s/admin/customer_attributes/0"
        class="box-content w-64 p-4 rounded-lg border"
      >
      </foxy-attribute-card>
    `
  }
</Story>

<Story name="State: idle.template" parameters={{ docs: { disable: true } }}>
  {() =>
    html`
      <foxy-attribute-card
        parent="https://demo.foxycart.com/s/admin/customers/0/attributes"
        class="box-content w-64 p-4 rounded-lg border"
      >
      </foxy-attribute-card>
    `
  }
</Story>

<Story name="State: busy" parameters={{ docs: { disable: true } }}>
  {() =>
    html`
      <foxy-attribute-card
        parent="https://demo.foxycart.com/s/admin/customers/0/attributes"
        href="https://demo.foxycart.com/s/admin/sleep"
        class="box-content w-64 p-4 rounded-lg border"
      >
      </foxy-attribute-card>
    `
  }
</Story>

<Story name="State: fail" parameters={{ docs: { disable: true } }}>
  {() =>
    html`
      <foxy-attribute-card
        parent="https://demo.foxycart.com/s/admin/customers/0/attributes"
        href="https://demo.foxycart.com/s/admin/not-found"
        class="box-content w-64 p-4 rounded-lg border"
      >
      </foxy-attribute-card>
    `
  }
</Story>
